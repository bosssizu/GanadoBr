<!doctype html>
<html lang="es">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>GanadoBravo — v39h</title>
<script>
async function doEval(ev){
  ev.preventDefault();
  const file = document.getElementById('file').files[0];
  const mode = document.getElementById('mode').value;
  const fd = new FormData();
  fd.append('file', file); fd.append('mode', mode);
  const res = await fetch('/evaluate', { method:'POST', body: fd });
  const out = document.getElementById('out');
  if(!res.ok){ out.textContent = 'Error: ' + res.status + ' ' + await res.text(); return; }
  out.textContent = JSON.stringify(await res.json(), null, 2);
}
</script>
<style>
body{font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; margin:2rem;}
.card{border:1px solid #eee; border-radius:12px; padding:16px; margin-bottom:16px; box-shadow: 0 4px 14px rgba(0,0,0,.06);}
pre{white-space: pre-wrap; background:#f7f7f9; padding:12px; border-radius:8px;}
</style></head>
<body>
<h1>GanadoBravo — Evaluación (v39h)</h1>
<div class="card">
<form onsubmit="doEval(event)">
  <label>Imagen: <input id="file" type="file" accept="image/*" required></label>
  <label style="margin-left:12px;">Modo:
    <select id="mode"><option>levante</option><option>subasta</option></select>
  </label>
  <button type="submit">Evaluar</button>
</form>
</div>
<div class="card"><h3>Resultado</h3><pre id="out">Sube una imagen…</pre></div>
</body></html>
